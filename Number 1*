router.get('/:id', async (req,res)=>{
    const author = await Author.findById({_id: req.params.id});
    if(!author) return res.status(404).send("Author Not Found");
    res.send(author);
})

router.put('/:id', auth, async(req,res)=>{
    await Author.findByIdAndUpdate({_id: req.params.id}, {
        $set: {
            name: req.body.name,
            email: req.body.email,
            about: req.body.about,
            job: req.body.job
        }
    })

    res.send('Updated Successfully');
})

router.delete('/:id', auth, async(req,res)=>{
    const author = await Author.findByIdAndRemove({_id: req.params.id});
    if(!author) return res.status(404).send('The author with the given ID was not found');

    res.send(author);
})

module.exports = router;
